<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>LEDeviceManager Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.2 (build 963)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">LEGO Device SDK </a></h1>
				<a id="developerHome" href="../index.html">LEGO</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">LEDeviceManager Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/allDevices">&nbsp;&nbsp;&nbsp;&nbsp;allDevices</option>
	
	<option value="//api/name/automaticReconnectOnConnectionLostEnabled">&nbsp;&nbsp;&nbsp;&nbsp;automaticReconnectOnConnectionLostEnabled</option>
	
	<option value="//api/name/connectRequestTimeoutInterval">&nbsp;&nbsp;&nbsp;&nbsp;connectRequestTimeoutInterval</option>
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/sharedDeviceManager">&nbsp;&nbsp;&nbsp;&nbsp;+ sharedDeviceManager</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/addDelegate:">&nbsp;&nbsp;&nbsp;&nbsp;- addDelegate:</option>
	
	<option value="//api/name/cancelDeviceConnection:">&nbsp;&nbsp;&nbsp;&nbsp;- cancelDeviceConnection:</option>
	
	<option value="//api/name/connectToDevice:">&nbsp;&nbsp;&nbsp;&nbsp;- connectToDevice:</option>
	
	<option value="//api/name/removeDelegate:">&nbsp;&nbsp;&nbsp;&nbsp;- removeDelegate:</option>
	
	<option value="//api/name/scan">&nbsp;&nbsp;&nbsp;&nbsp;- scan</option>
	
	<option value="//api/name/stopScanning">&nbsp;&nbsp;&nbsp;&nbsp;- stopScanning</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Getting an instance of the Device Manager">Getting an instance of the Device Manager</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Scan for Devices">Scan for Devices</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Connect and Disconnect">Connect and Disconnect</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Add and Remove delegates">Add and Remove delegates</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/allDevices">allDevices</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/automaticReconnectOnConnectionLostEnabled">automaticReconnectOnConnectionLostEnabled</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/connectRequestTimeoutInterval">connectRequestTimeoutInterval</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sharedDeviceManager">sharedDeviceManager</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/addDelegate:">addDelegate:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/cancelDeviceConnection:">cancelDeviceConnection:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/connectToDevice:">connectToDevice:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/removeDelegate:">removeDelegate:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/scan">scan</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/stopScanning">stopScanning</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="LEDeviceManager Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">LEDeviceManager Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">LEDeviceManager.h</td>
</tr>
						</tbody></table></div>
					
                    
                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>This class is the main entry point for connecting and communicating with a LEGO Device.
You must implement the <a href="../Protocols/LEDeviceManagerDelegate.html">LEDeviceManagerDelegate</a> protocol and set the delegate property
before scanning for and connecting to devices.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Getting an instance of the Device Manager" name="task_Getting an instance of the Device Manager"></a>
						<h3 class="subsubtitle task-title">Getting an instance of the Device Manager</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/sharedDeviceManager">+&nbsp;sharedDeviceManager</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Scan for Devices" name="task_Scan for Devices"></a>
						<h3 class="subsubtitle task-title">Scan for Devices</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/scan">&ndash;&nbsp;scan</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/stopScanning">&ndash;&nbsp;stopScanning</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Connect and Disconnect" name="task_Connect and Disconnect"></a>
						<h3 class="subsubtitle task-title">Connect and Disconnect</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/connectToDevice:">&ndash;&nbsp;connectToDevice:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/connectRequestTimeoutInterval">&nbsp;&nbsp;connectRequestTimeoutInterval</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/automaticReconnectOnConnectionLostEnabled">&nbsp;&nbsp;automaticReconnectOnConnectionLostEnabled</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/cancelDeviceConnection:">&ndash;&nbsp;cancelDeviceConnection:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/allDevices">&nbsp;&nbsp;allDevices</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Add and Remove delegates" name="task_Add and Remove delegates"></a>
						<h3 class="subsubtitle task-title">Add and Remove delegates</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/addDelegate:">&ndash;&nbsp;addDelegate:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/removeDelegate:">&ndash;&nbsp;removeDelegate:</a></code>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/allDevices" title="allDevices"></a>
	<h3 class="subsubtitle method-title">allDevices</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns a list with all known devices regardless of their current connect state.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, readonly) NSArray *allDevices</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Returns a list with all known devices regardless of their current connect state.</p>

<p>For BLE devices, the list is ordered according to relative distance, based of the RSSI values received for each Device.
The Device closest will be first in the list. Note, the RSSI value is only updated while in advertising mode.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LEDeviceManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/automaticReconnectOnConnectionLostEnabled" title="automaticReconnectOnConnectionLostEnabled"></a>
	<h3 class="subsubtitle method-title">automaticReconnectOnConnectionLostEnabled</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>If enabled, the LEGDeviceManager will attempt to reconnect in case of a connection loss, but only if the connection was not closed by the user,
the default value is NO.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, readwrite) BOOL automaticReconnectOnConnectionLostEnabled</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>If enabled, the LEGDeviceManager will attempt to reconnect in case of a connection loss, but only if the connection was not closed by the user,
the default value is NO.</p>

<p>If this property is set to YES an automatic attempt to connect is made in the following cases:</p>

<ul>
<li> If a connection requests fails with an &lsquo;unexpected error&rsquo; (e.g. not due to a time-out). If the second connection attempt also fails,
no further attempts are made to connect automatically.</li>
<li> If a connection in lost in state LEDeviceStateInterrogating with an &lsquo;unexpected error&rsquo; (e.g. not closed by user).
 If the second connection attempt also fails, no further attempts are made to connect automatically.</li>
<li> If a connection is lost after successful connection (i.e. in state LEDeviceStateInterrogationFinished)</li>
</ul>


<p>If the connect-request does not succeed within the connectRequestTimeout no attempt is made to automatically reconnect.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LEDeviceManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/connectRequestTimeoutInterval" title="connectRequestTimeoutInterval"></a>
	<h3 class="subsubtitle method-title">connectRequestTimeoutInterval</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>If a connect request is not successful within this time interval the connection attempt is cancelled
and the [LEDeviceManagerDelegate deviceManager:didFailToConnectToDevice:error] is invoked.
The default value is 10 seconds.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, readwrite) NSTimeInterval connectRequestTimeoutInterval</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>If a connect request is not successful within this time interval the connection attempt is cancelled
and the [LEDeviceManagerDelegate deviceManager:didFailToConnectToDevice:error] is invoked.
The default value is 10 seconds.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LEDeviceManager.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/sharedDeviceManager" title="sharedDeviceManager"></a>
	<h3 class="subsubtitle method-title">sharedDeviceManager</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The shared LEDeviceManager</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (LEDeviceManager *)sharedDeviceManager</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The shared LEDeviceManager</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LEDeviceManager.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/addDelegate:" title="addDelegate:"></a>
	<h3 class="subsubtitle method-title">addDelegate:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Add a delegate to receive device discovery and connection events</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)addDelegate:(id&lt;LEDeviceManagerDelegate&gt;)<em>delegate</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>delegate</em></dt>
			<dd><p>The delegate to add</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Add a delegate to receive device discovery and connection events</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LEDeviceManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/cancelDeviceConnection:" title="cancelDeviceConnection:"></a>
	<h3 class="subsubtitle method-title">cancelDeviceConnection:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Disconnect from a LEGO Bluetooth LE Device.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)cancelDeviceConnection:(LEDevice *)<em>device</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>device</em></dt>
			<dd><p>The device to disconnect from</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Disconnect from a LEGO Bluetooth LE Device.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LEDeviceManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/connectToDevice:" title="connectToDevice:"></a>
	<h3 class="subsubtitle method-title">connectToDevice:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Connect to a LEGO LEDevice.
If a connection is not established within the connectRequestTimeoutInterval the connection attempt is cancelled
and the [LEDeviceManagerDelegate deviceManager:didFailToConnectToDevice:error] is invoked.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)connectToDevice:(LEDevice *)<em>device</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>device</em></dt>
			<dd><p>The device to establish a connection to</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Connect to a LEGO LEDevice.
If a connection is not established within the connectRequestTimeoutInterval the connection attempt is cancelled
and the [LEDeviceManagerDelegate deviceManager:didFailToConnectToDevice:error] is invoked.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LEDeviceManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/removeDelegate:" title="removeDelegate:"></a>
	<h3 class="subsubtitle method-title">removeDelegate:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Remove a delegate</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)removeDelegate:(id&lt;LEDeviceManagerDelegate&gt;)<em>delegate</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>delegate</em></dt>
			<dd><p>The delegate to remove</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Remove a delegate</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LEDeviceManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/scan" title="scan"></a>
	<h3 class="subsubtitle method-title">scan</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Start scanning for LEGO BLE devices</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)scan</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Start scanning for LEGO BLE devices</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LEDeviceManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/stopScanning" title="stopScanning"></a>
	<h3 class="subsubtitle method-title">stopScanning</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Stop scanning for LEGO BLE devices and removes all discovered but un-connected devices
from the list of <a href="#//api/name/allDevices">allDevices</a></p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)stopScanning</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Stop scanning for LEGO BLE devices and removes all discovered but un-connected devices
from the list of <a href="#//api/name/allDevices">allDevices</a></p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LEDeviceManager.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
                    
                    
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2015 LEGO. All rights reserved. (Last updated: 2015-06-01)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2 (build 963)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>